sex <- ggplot(dados_transformados) +
aes(x = SEXO_ALUNO, fill = CO_ALUNO_SITUACAO) +
geom_bar(position = "fill") +
scale_fill_brewer(palette = "YlOrRd",direction = -1)+
labs(x = "SEX", y = "PROPORTION OF STUDENTS", fill = NULL) +
theme_minimal()
library(ggplot2)
library(tidyr)
library(tidyverse)
library(esquisse)
library(ggsave)
sex <- ggplot(dados_transformados) +
aes(x = SEXO_ALUNO, fill = CO_ALUNO_SITUACAO) +
geom_bar(position = "fill") +
scale_fill_brewer(palette = "YlOrRd",direction = -1)+
labs(x = "SEX", y = "PROPORTION OF STUDENTS", fill = NULL) +
theme_minimal()
sex
dados <- read_delim("BD_ESTUDO.csv",delim = ";", escape_double = FALSE, trim_ws = TRUE)
dados_transformados <- dados %>%
select(CO_ALUNO, CO_ALUNO_SITUACAO, NO_EVENTO, CO_TURNO_ALUNO, IN_SEXO_ALUNO, CO_COR_RACA_ALUNO, NU_IDADE_ALUNO) %>%
mutate(CO_TURNO_ALUNO=ifelse(CO_TURNO_ALUNO==1,"MORNING",
ifelse(CO_TURNO_ALUNO==3,"NIGHT",
ifelse(CO_TURNO_ALUNO==2,"AFTERNOON",
ifelse(CO_TURNO_ALUNO==4,"FULL-TIME",
ifelse(is.na(CO_TURNO_ALUNO)==TRUE,NA,NA))))),
CO_ALUNO_SITUACAO= ifelse(CO_ALUNO_SITUACAO==4,"EVADED",
ifelse(CO_ALUNO_SITUACAO==5,"EVADED",
ifelse(CO_ALUNO_SITUACAO==6,"GRADUATED","CENSORSHIP"))),
CO_COR_RACA_ALUNO=ifelse(CO_COR_RACA_ALUNO==0,"NAO DECLARADO",
ifelse(CO_COR_RACA_ALUNO==1,"BRANCA",
ifelse(CO_COR_RACA_ALUNO==2,"PRETA",
ifelse(CO_COR_RACA_ALUNO==3,"PARDA",
ifelse(CO_COR_RACA_ALUNO==4,"AMARELA","INDIGENA"))))),
SEXO_ALUNO=(ifelse(IN_SEXO_ALUNO==0,"MALE","FEMALE"))) %>%
drop_na(CO_TURNO_ALUNO)
sex <- ggplot(dados_transformados) +
aes(x = SEXO_ALUNO, fill = CO_ALUNO_SITUACAO) +
geom_bar(position = "fill") +
scale_fill_brewer(palette = "YlOrRd",direction = -1)+
labs(x = "SEX", y = "PROPORTION OF STUDENTS", fill = NULL) +
theme_minimal()
sex
ggsave("sex_plot.pdf", sex,width = 6, height=3)
